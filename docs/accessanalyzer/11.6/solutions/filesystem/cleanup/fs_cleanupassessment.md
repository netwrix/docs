---
title: "1. Cleanup Assessment > FS_CleanupAssessment Job"
description: "1. Cleanup Assessment > FS_CleanupAssessment Job"
sidebar_position: 10
---

# 1. Cleanup Assessment > FS_CleanupAssessment Job

The FS_CleanupAssessment job is designed to report on and assess the status of target file servers
that can be cleaned up.

To include share ownership information in the analyses, populate the SA_AIC_ResourceOwnersView prior
to running this job. This view populates when you assign owners to resources through the Access
Information Center Manage Owners page. See the Resource Owners topics in the
[Netwrix Access Information Center Documentation](https://helpcenter.netwrix.com/category/accessinformationcenter)
for additional information.

![1. Cleanup Assessment > FS_CleanupAssessment Job in the Jobs Tree](/images/accessanalyzer/11.6/solutions/filesystem/cleanup/jobstree_1.webp)

The FS_CleanupAssessment job is located in the 1. Cleanup Assessment job group.

**Workflow**

The following is the recommended workflow for using the job group:

**Step 1 –** **Prerequisite:** Successfully execute the following job groups:

- .Active Directory Inventory
- File System > 0.Collection

**Step 2 –** Schedule the 1. Cleanup Assessment job group to run as desired after the prerequisites
have completed.

**Step 3 –** Review the reports generated by the 1. Cleanup Assessment group.

## Parameter Configuration

The Configuration section on a Job's overview page allows you to easily modify any customizable
parameters used by analysis tasks in the job. See the
[Parameter Configuration](/docs/accessanalyzer/11.6/admin/jobs/job/overview.md#parameter-configuration)
topic for instructions on how to edit parameters on a job overview page.

The FS_CleanupAssessment job has the following configurable parameters:

- Number of days after which a resource’s LastModified timestamp classifies it as stale
- If 1, LastModified will be used to calculate staleness. If 0, LastAccessed will be used.
- UNC Paths of folders to exclude from staleness consideration (recursive)
- Lower bound for files to be included in the FileDetails table (by LastModfied, in days)
- Upper bound for files to be included in the FileDetails table (by LastModfied, in days)

See the
[Customizable Analysis Tasks for the FS_CleanupAssessment Job](#customizable-analysis-tasks-for-the-fs_cleanupassessment-job)
topic for additional information.

## Analysis Tasks for the FS_CleanupAssessment Job

Navigate to the **FileSystem** > **Cleanup** > **1. Cleanup Assessment** >
**FS_CleanupAssessment** > **Configure** node and select **Analysis** to view the analysis tasks.

:::warning
Do not modify or deselect the selected analysis tasks. The analysis tasks are
preconfigured for this job.
:::


![Analysis Tasks for the FS_CleanupAssessment Job](/images/accessanalyzer/11.6/solutions/filesystem/cleanup/cleanupassessmentanalysis.webp)

The following analysis tasks are selected by default:

- Create file-level view – Creates the SA_FS_CleanupView table accessible under the job’s Results
  node.

    - See the [Include Metadata Tag Information](#include-metadata-tag-information) topic for
      instructions on how to include metadata tag information in this table
    - Has 3 configurable parameters. See the
      [Customizable Analysis Tasks for the FS_CleanupAssessment Job](#customizable-analysis-tasks-for-the-fs_cleanupassessment-job)
      topic for additional information.

- Create file-level details table – Creates the SA_FS_CleanupAssessment_FileDetails table accessible
  under the job’s Results node

    - Has 2 configurable parameters. See the
      [Customizable Analysis Tasks for the FS_CleanupAssessment Job](#customizable-analysis-tasks-for-the-fs_cleanupassessment-job)
      topic for additional information.

- Summarize share-level information – Creates the SA_FS_CleanupAssessment_ShareDetails table
  accessible under the job’s Results node
- Summarize host-level information – Creates the SA_FS_CleanupAssessment_HostDetails table
  accessible under the job’s Results node

In addition to the tables and views created by the analysis tasks, the FS_CleanupAssessment job
produces the following pre-configured report.

| Report                                       | Description                                            | Default Tags | Report Elements                                                                                                                                                     |
| -------------------------------------------- | ------------------------------------------------------ | ------------ | ------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| File System Cleanup <ul><li>Files</li></ul>  | This report highlights file-level cleanup information  | None         | This report is comprised of two elements: <ul><li>Pie Chart – Displays enterprise stale file breakdown</li><li>Table – Provides details on files</li></ul>          |
| File System Cleanup <ul><li>Hosts</li></ul>  | This report highlights host-level cleanup information  | None         | This report is comprised of two elements: <ul><li>Stacked Chart – Displays top hosts by stale file percentage</li><li>Table – Provides details on hosts</li></ul>   |
| File System Cleanup <ul><li>Shares</li></ul> | This report highlights share-level cleanup information | None         | This report is comprised of two elements: <ul><li>Stacked Chart – Displays top shares by stale file percentage</li><li>Table – Provides details on shares</li></ul> |


### Customizable Analysis Tasks for the FS_CleanupAssessment Job

The default values for parameters that can be customized are:

| Analysis Task                   | Customizable Parameter Name | Default Value                                                                                          | Value Indicates                                                                                     |
| ------------------------------- | --------------------------- | ------------------------------------------------------------------------------------------------------ | --------------------------------------------------------------------------------------------------- |
| Create File-Level View          | @STALE_THRESHOLD            | 365                                                                                                    | Set the number of days after which a resource’s Last Modified timestamp classifies it as stale      |
| @USE_LAST_MODIFIED              | 1                           | If set to 1, Last Modified will be used to calculate staleness. If set to 0, Last Access will be used. |                                                                                                     |
| #FOLDERS_TO_EXCLUDE             | BLANK                       | Specify which UNC Paths of folders to exclude from staleness consideration                             |                                                                                                     |
| Create File Level Details Table | @MIN_STALE_THRESHOLD        | 730                                                                                                    | Set the lower bound of the files to be included in the FileDetails table (by Last Modfied, in days) |
| @MAX_STALE_THRESHOLD            | 365                         | Set the upper bound of the files to be included in the FileDetails table (by Last Modfied, in days)    |                                                                                                     |

See the
[Configure the Customizable Parameters in an Analysis Task](/docs/accessanalyzer/11.6/admin/jobs/job/configure/analysis/analysiscustomizableparameters.md)
topic for instructions to modify parameters.

### Include Metadata Tag Information

To include metadata tag information in the SA_FS_CleanupView table, the **FileSystem** >
**0.Collection** > **1-FSAA System Scans** job needs configuring to use the required option. Follow
the steps to enable the option on the File Detail Scan Settings page of the File System Scan query.

**Step 1 –** Navigate to the **FileSystem** > **0.Collection** > **1-FSAA System Scans** >
**Configure** node and select **Queries**.

**Step 2 –** In the Query Selection view, select the **File System Scan** query and click **Query
Properties**. The Query Properties window opens.

**Step 3 –** Select the **Data Source** tab, and click **Configure**. The File System Access Auditor
Data Collector Wizard opens.

![File Details tab of the FSAA Data Collector Wizard Default Scoping Options page](/images/accessanalyzer/11.6/admin/datacollector/fsaa/defaultscopingoptions/filedetails.webp)

**Step 4 –** Navigate to the **Default Scoping Options** page and click the **File Details** tab.

![Options to select on File Details tab](/images/accessanalyzer/11.6/solutions/filesystem/cleanup/includemetadatatagoptions.webp)

**Step 5 –** On the File Details tab, select the **Scan file-level details** option, and then select
the **Collect tags/keywords from file metadata properties** option.

:::warning
Do not make changes to other wizard pages as they have been pre-configured for the
purpose of this job.
:::


**Step 6 –** Navigate to the **Scoping Queries** page of the File System Access Auditor Data
Collector Wizard and click Finish to save the changes and close the wizard.

Metadata Tag Information will now be included in the SA_FS_CleanupView table the next time the
FS_CleanupAssessment job is run.
